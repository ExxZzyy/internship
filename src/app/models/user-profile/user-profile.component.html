<div class="profile-container">
  <div *ngIf="!isDisabledTime; else notAbleToPass">
    <h3 class="table-caption">Please choose your level to start a test:</h3>

    <mat-radio-group name="levels" class="radio" [(ngModel)]="selectedLevel">
      <mat-radio-button
        class="radio-btn"
        *ngFor="let level of levels; let ind = index"
        [value]="ind + 1"
      >
        {{ levels[ind] }}
      </mat-radio-button>
    </mat-radio-group>

    <button
      *ngIf="!assignedTest || deadLine! < now"
      [disabled]="!selectedLevel"
      mat-raised-button
      color="primary"
      class="start-btn"
      (click)="onStartButtonClick(selectedLevel)"
    >
      START TEST
    </button>

    <div *ngIf="assignedTest && deadLine! > now && !isDisabledTime">
      <h3 class="table-caption warn">You've got an assigned test!</h3>
      <p class="table-caption">
        Deadline: <span class="warn">{{ deadLine | date: 'mediumDate' }}</span>
      </p>
      <button
        [disabled]="!selectedLevel"
        [hidden]="isDisabledTime"
        mat-raised-button
        color="primary"
        class="start-btn"
        (click)="onStartButtonClick(selectedLevel)"
      >
        START ASSIGNED TEST
      </button>
    </div>
  </div>

  <ng-template #notAbleToPass>
    <p class="table-caption" *ngIf="isDisabledTime">
      You will be able to pass the next test in <span> {{ (timer$ | async)! | time }} </span>
    </p>
  </ng-template>

  <app-user-results-table class="user-results-table" [results]="(results$ | async)!">
  </app-user-results-table>
</div>
