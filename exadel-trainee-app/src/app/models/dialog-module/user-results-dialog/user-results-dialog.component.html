<div class="content"
     mat-dialog-content>

     <mat-card class="user-info-wrapper">
        <mat-card-header>
            <div mat-card-avatar class="user-pic"></div>
            <mat-card-title>{{user.lastName}} {{user.firstName}}</mat-card-title>
            <mat-card-subtitle>{{user.email}}</mat-card-subtitle>
        </mat-card-header>
        <button class="submit-btn"
                mat-raised-button
                color="primary"
                (click)="onAssignBtnClick()">Assign test to User</button>
    </mat-card>




      <div *ngIf="results.length; else noResults">
        <h4 class="table-header">Recent test results</h4>
        <table>
            <tr *ngFor="let res of results; let ind = index">
                <td>{{ind + 1}}</td>
                <td>{{res.date}}</td>
                <td>{{res.level}}</td>
                <td><b>{{res.grammar + res.audition + res.writing + res.speaking}}%</b></td>
                <td>
                    <button mat-raised-button
                            *ngIf="btnIndexes[ind]; else showResults"
                            (click)="onShowResults(res, ind)">View details</button>
                    <ng-template #showResults>
                        <div class="scale">
                            <span class="result">{{res.grammar}}</span>
                            <span class="result">{{res.audition}}</span>
                            <span class="result">{{res.writing}}</span>
                            <span class="result">{{res.speaking}}</span>
                        </div>
                    </ng-template>
                </td>
            </tr>
        </table>
    </div>
    <ng-template #noResults>No results yet</ng-template>
</div>

<mat-dialog-actions align="end">
    <button mat-button
            mat-dialog-close cdkFocusInitial>Close</button>
</mat-dialog-actions>